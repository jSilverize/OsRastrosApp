"use strict";function statusChangeCallback(t){console.log("statusChangeCallback"),console.log(t),"connected"===t.status?testAPI():"not_authorized"===t.status?document.getElementById("status").innerHTML="Please log into this app.":document.getElementById("status").innerHTML="Please log into Facebook."}function checkLoginState(){FB.getLoginStatus(function(t){statusChangeCallback(t)})}function testAPI(){console.log("Welcome!  Fetching your information.... "),FB.api("/me",function(t){console.log("Successful login for: "+t.name),document.getElementById("status").innerHTML="Thanks for logging in, "+t.name+"!"})}angular.module("rastros",["ngRoute","ngAnimate","duScroll"]),angular.module("rastros").config(["$locationProvider","$routeProvider","momentProvider",function(t,e,a){a.locale("pt-br"),e.when("/",{templateUrl:"app/templates/home-template.html",controller:"HomeController"}).when("/404",{templateUrl:"app/templates/404-template.html",controller:"404Controller"}).when("/meu/login",{templateUrl:"app/templates/auth-login-template.html",controller:"LoginController",authPage:!0}).when("/meu/cadastro",{templateUrl:"app/templates/auth-register-template.html",controller:"RegisterController",authPage:!0}).when("/meu/perfil",{templateUrl:"app/templates/garage/garage-template.html",controller:"ProfileController",authenticated:!0}).otherwise({redirectTo:"/404"})}]),angular.module("rastros").run(["$rootScope","routeChange",function(t,e){t.$on("$routeChangeError",e.error),t.$on("$routeChangeStart",e.start),t.$on("$routeChangeSuccess",e.success)}]),function(){angular.module("rastros").run(["$templateCache",function(t){t.put("app/templates/404-template.html",'<header class="header bg-light-blue"> <container> <h1 class="title"> 404 </h1> </container> </header> <section class="section"> <container> <h2> Page not found </h2> <br> <button class="button softed" data-ng-click="goBack()"> Back </button> </container> </section>'),t.put("app/templates/auth-register-template.html",'<header class="header"> <container> <h1 class="header__title"> Cadastre-se </h1> </container> </header> <section class="section"> <container> <form> <form-field> <input type="email" required placeholder="voce@exemplo.com" data-ng-model="form.email"> </form-field> <form-field> <input type="password" required placeholder="**************" data-ng-model="form.password"> </form-field> <form-field> <button type="button" data-ng-click="register()"> CADASTRAR </button> </form-field> </form> </container> </section>'),t.put("app/templates/home-template.html",'<section class="section"> <container> <h1 class="section__title"> Próximas Partidas </h1> <div class="card match" data-ng-repeat="match in nextMatches"> <div class="match__teams"> <figure class="match__team"> <img class="match__team__logo" data-ng-src="{{ match.opponent.logo }}" alt="{{ match.opponent.title }}"> <legend class="match__team__title"> {{ match.opponent.title }} </legend> </figure> <div class="match__versus">×</div> <figure class="match__team"> <img class="match__team__logo" data-ng-src="./assets/images/os-rastros.gif" alt="Os Rastros"> <legend class="match__team__title"> Os Rastros </legend> </figure> </div> <div class="match__details"> <div class="match__details__item"> <i class="fa fa-fw fa-list match__details__item__icon"></i> <strong>DETALHES</strong> </div> <div class="match__details__item"> <i class="fa fa-fw fa-calendar match__details__item__icon"></i> {{ match.date.formatted }} </div> <div class="match__details__item"> <i class="fa fa-fw fa-clock-o match__details__item__icon"></i> {{ match.date.time }}, bola rolando </div> <div class="match__details__item"> <i class="fa fa-fw fa-map-marker match__details__item__icon"></i> {{ match.location.stadium }} </div> </div> </div> </container> </section> '),t.put("app/templates/directives/loader-directive-template.html",'<div class="loader" data-ng-hide="activities.length === 0 && errors.length === 0"> <div class="loader__content"> <div class="venus container"> <figure class="loader__content__spinner" data-ng-show="activities.length !== 0 && errors.length === 0"> <img class="loader__content__spinner__image" data-ng-src="./assets/images/loader--spinner.gif" alt="Loading"> </figure> <div class="loader__content__message" data-ng-repeat="activity in activities"> <div data-ng-if="!activity.title && !activity.text" data-ng-bind-html="activity | unsafe"> </div> <div class="loader__content__message__title" data-ng-if="activity.title" data-ng-bind-html="activity.title | unsafe"> </div> <div class="loader__content__message__text" data-ng-if="activity.text" data-ng-bind-html="activity.text | unsafe"> </div> </div> <div class="loader__content__error" data-ng-repeat="error in errors"> <div data-ng-bind-html="error | unsafe"></div> <button class="loader__content__error__icon" data-ng-click="clearError(error)"> <i class="fa fa-times"></i> </button> </div> </div> </div> </div> '),t.put("app/templates/directives/navbar-directive-template.html",'<nav class="navbar navbar--fixed-top navbar--inverted"> <container> <div class="navbar-nav"> <!-- <button class="navbar-menu-toggle">\n                <i class="fa fa-fw fa-bars"></i>\n            </button> --> <a class="navbar-brand" data-ng-click="goTo(\'/\')" title="Início"> Os Rastros </a> <!-- <ul class="navbar-menu list">\n                <li class="list-item">\n                    <a class="list-item-link"\n                       data-ng-click="goTo(\'/help\')">\n                       <i class="fa fa-fw fa-question-circle-o"></i>\n                        Ajuda\n                    </a>\n                </li>\n                <li class="list-item">\n                    <a class="button"\n                       data-ng-click="goTo(\'/meu/login\')">\n                       <i class="fa fa-fw fa-sign-in"></i>\n                        Login\n                    </a>\n                </li>\n                <li class="list-border"></li>\n                <li class="list-item">\n                    <a class="button"\n                       data-ng-click="goTo(\'/meu/cadastro\')">\n                       <i class="fa fa-fw fa-user-plus"></i>\n                        Cadastro\n                    </a>\n                </li>\n            </ul>\n\n            <button class="navbar-menu-settings">\n                <i class="fa fa-fw fa-ellipsis-v"></i>\n            </button> --> </div> </container> </nav> '),t.put("app/templates/directives/loader-directive-template.html",'<div class="loader" data-ng-hide="activities.length === 0 && errors.length === 0"> <div class="loader__content"> <div class="venus container"> <figure class="loader__content__spinner" data-ng-show="activities.length !== 0 && errors.length === 0"> <img class="loader__content__spinner__image" data-ng-src="./assets/images/loader--spinner.gif" alt="Loading"> </figure> <div class="loader__content__message" data-ng-repeat="activity in activities"> <div data-ng-if="!activity.title && !activity.text" data-ng-bind-html="activity | unsafe"> </div> <div class="loader__content__message__title" data-ng-if="activity.title" data-ng-bind-html="activity.title | unsafe"> </div> <div class="loader__content__message__text" data-ng-if="activity.text" data-ng-bind-html="activity.text | unsafe"> </div> </div> <div class="loader__content__error" data-ng-repeat="error in errors"> <div data-ng-bind-html="error | unsafe"></div> <button class="loader__content__error__icon" data-ng-click="clearError(error)"> <i class="fa fa-times"></i> </button> </div> </div> </div> </div> '),t.put("app/templates/directives/navbar-directive-template.html",'<nav class="navbar navbar--fixed-top navbar--inverted"> <container> <div class="navbar-nav"> <!-- <button class="navbar-menu-toggle">\n                <i class="fa fa-fw fa-bars"></i>\n            </button> --> <a class="navbar-brand" data-ng-click="goTo(\'/\')" title="Início"> Os Rastros </a> <!-- <ul class="navbar-menu list">\n                <li class="list-item">\n                    <a class="list-item-link"\n                       data-ng-click="goTo(\'/help\')">\n                       <i class="fa fa-fw fa-question-circle-o"></i>\n                        Ajuda\n                    </a>\n                </li>\n                <li class="list-item">\n                    <a class="button"\n                       data-ng-click="goTo(\'/meu/login\')">\n                       <i class="fa fa-fw fa-sign-in"></i>\n                        Login\n                    </a>\n                </li>\n                <li class="list-border"></li>\n                <li class="list-item">\n                    <a class="button"\n                       data-ng-click="goTo(\'/meu/cadastro\')">\n                       <i class="fa fa-fw fa-user-plus"></i>\n                        Cadastro\n                    </a>\n                </li>\n            </ul>\n\n            <button class="navbar-menu-settings">\n                <i class="fa fa-fw fa-ellipsis-v"></i>\n            </button> --> </div> </container> </nav> ')}])}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?e(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],e):e(t.moment)}(this,function(t){var e=t.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº"});return e}),angular.module("rastros").constant("urls",{BRANDS:"http://usa1.simsdev.info/api/marcas/"}),angular.module("rastros").provider("moment",function(){var t;return{locale:function(e){t=e},$get:["$window",function(e){return e.moment.locale(t),e.moment}]}}),angular.module("rastros").factory("routeChange",["$rootScope","$document","$timeout","flow","scroll","loader",function(t,e,a,n,r,i){var o={},s=e.find("content"),l="Trampando...";return o.start=function(){i.start(l),s.addClass("loading")},o.success=function(){r.toTop(),a(function(){s.removeClass("loading"),i.stop(l)},800)},o.error=function(t){a(function(){i.error('<strong>VISH</strong>!<br />Isso aqui deu errado:<br />"'+t.name+'"')},1e3),n.goBack()},o}]),angular.module("rastros").factory("flow",["$filter","$location","$route",function(t,e,a){var n={lastPath:null};return n.goTo=function(t,a){var r=t||"/",i=["/404","/login","/register"];a&&i.indexOf(a)===-1&&(n.lastPath=a),e.path(r)},n.goBack=function(){var t=n.lastPath||"/";e.path(t)},n.reload=function(){a.reload()},n}]),angular.module("rastros").factory("loader",function(){var t={activities:[],errors:[]};return t.start=function(e){if(t.activities.indexOf(e)===-1)return t.activities.push(e),!0},t.stop=function(e){for(var a in t.activities)t.activities[a]===e&&t.activities.splice(a,1)},t.error=function(e,a){t.errors.push(e),a&&console.error(a)},t.clearError=function(e){for(var a in t.errors)t.errors[a]===e&&t.errors.splice(a,1)},t}),angular.module("rastros").factory("scroll",["$document",function(t){var e={};return e.toTop=function(e){var a=e||0,n=t.find("body");n.scrollTop(a,800)},e}]),angular.module("rastros").service("futliga",["$http","$q","$filter",function(t,e,a){var n="https://cors-anywhere.herokuapp.com/",r=n+"https://futliga.com.br/",i={matches:[]};return i.get=function(){var a=e.defer(),n=r+"futliga/associado/equipes/associado-equipes-obter-agenda.asp?codigo=8985";return t.get(n).then(function(t){200===t.status&&a.resolve(t.data)}).catch(function(t){a.reject(t)}),a.promise},i.nextMatches=function(){var t=e.defer();return i.get().then(function(e){t.resolve(a("futligaMatches")(e))}).catch(function(e){t.reject(e)}),t.promise},i}]),angular.module("rastros").factory("fireb",["loader",function(t){var e=firebase.database(),a={};return a.create=function(a){if(a){t.start();var n=e.ref().child("users").push().key;e.ref("users/"+n).set(a).then(function(){t.stop()}).catch(function(e){t.error(e)})}},a}]),window.fbAsyncInit=function(){FB.init({appId:"{your-app-id}",cookie:!0,xfbml:!0,version:"v2.5"}),FB.getLoginStatus(function(t){statusChangeCallback(t)})},angular.module("rastros").controller("404Controller",["$scope","flow",function(t,e){t.goBack=function(){e.goBack()}}]),angular.module("rastros").controller("HomeController",["$scope","loader","flow","futliga",function(t,e,a,n){t.matches=function(){var a="Calendário da Futliga";e.start(a),n.nextMatches().then(function(e){t.nextMatches=e}).catch(function(t){e.error('Houve um problema com "'+a+'":<br />'+t.name)}).finally(function(){e.stop(a)})},t.otherPage=function(){a.goTo("/404")},t.$on("$viewContentLoaded",function(){t.matches()})}]),angular.module("rastros").controller("RegisterController",["$scope","fireb",function(t,e){t.form={},t.register=function(){e.create(t.form)}}]),angular.module("rastros").directive("loader",["$document","loader",function(t,e){return{restrict:"E",templateUrl:"app/templates/directives/loader-directive-template.html",scope:{},controller:["$scope",function(t){t.activities=e.activities,t.errors=e.errors,t.clearError=function(t){e.clearError(t)}}]}}]),angular.module("rastros").directive("navbar",["$location",function(t){return{restrict:"E",scope:!0,templateUrl:"app/templates/directives/navbar-directive-template.html",controller:["$scope","flow",function(e,a){e.goTo=function(e){var n=e||"/";a.goTo(n,t.path())}}]}}]),angular.module("rastros").filter("unsafe",["$sce",function(t){return function(e){return t.trustAsHtml(e)}}]),angular.module("rastros").filter("removeBreakLines",function(){return function(t){for(var e=t;e.match(/\r?\n|\r/);)e=e.replace(/\r?\n|\r/,"");return e}}),angular.module("rastros").filter("stringRemoveAfter",function(){return function(t,e){if(e)return e=t.indexOf(e),t.substring(0,e!==-1?e:t.length)}}),angular.module("rastros").filter("futligaMatches",["$filter","moment",function(t,e){return function(a){function n(t){if(t){var e=i.querySelectorAll("img"),a="https://futliga.com.br/imagens/distintivos/";for(var n in e){var r=e[n];if(r.src&&r.src.includes("/distintivos/"+t))return a+t+".gif"}return a+"0.jpg"}}function r(){var a=i.querySelectorAll('div[style="float: left; margin: 10px 5px 10px 5px; width: 540px;"]');for(var r in a){var l=a[r];if(l&&!angular.isFunction(l)&&!angular.isNumber(l)){var c=l.nextElementSibling;if(c.querySelector(".liga-link9")){var d,u,m,f,g,p,v,_,h,b={},y=angular.copy(s);f=c.querySelector('span[style="font-size: 30px;"]').innerText,l=l.querySelector('div[style="float: right; width: 50%; text-align: right;"]').innerText,l=l.replace("                            ",""),l=l.replace("                        ",""),l=t("removeBreakLines")(l),l=l.replace("Semana ",""),g=parseInt(l.slice(0,2)),v=parseInt(l.slice(3,7)),p=c.querySelector('span[style="color: #000000; font-size: 10px; text-transform: uppercase;"]').textContent,u=c.querySelectorAll('div[style="float: left; width: 300px; top: inherit; text-align: left;"]')[1],h=u.querySelector(".liga-link8").textContent,h=h.replace("                                                ",""),h=h.replace("                                            ",""),h=t("removeBreakLines")(h),u=u.innerHTML,u=t("stringRemoveAfter")(u,"&nbsp;-&nbsp;"),u=u.replace("                                            ",""),u=t("removeBreakLines")(u),m=u.slice(3,5),u=u.slice(0,2),d=e().year(v).week(g+2),d.day(t("weekDay")(p)),d.hour(u),d.minute(m),d.second(0),y.date.time=u+":"+m,y.date.day=f,y.date.weekDay=p,y.date.moment=d,y.date.formatted=d.format("dddd, DD [de] MMMM"),y.location.stadium=h,_=c.querySelector(".liga-link9"),b.title=_.innerText,b.title=t("removeBreakLines")(b.title),b.title=b.title.replace("                                                ",""),b.title=b.title.replace("                                            ",""),b.id=_.attributes.href.textContent,b.id=b.id.replace(")",""),b.id=parseInt(b.id.replace("javascript:DetalharEquipe(","")),b.logo=n(b.id),y.opponent=b,o.push(y)}}}}var i=document.createElement("futliga"),o=[],s={opponent:null,date:{},location:{stadium:null,street:null,number:null,zone:null,city:"São Paulo",state:"SP"}};return i.innerHTML=a,r(i,o),o}}]),angular.module("rastros").filter("weekDay",function(){return function(t){var e;switch(t){case"Segunda":e="Monday";break;case"Terça":e="Tuesday";break;case"Quarta":e="Wednesday";break;case"Quinta":e="Thursday";break;case"Sexta":e="Friday";break;case"Sábado":e="Saturday";break;default:e="Monday"}return e}});