"use strict";function statusChangeCallback(t){console.log("statusChangeCallback"),console.log(t),"connected"===t.status?testAPI():"not_authorized"===t.status?document.getElementById("status").innerHTML="Please log into this app.":document.getElementById("status").innerHTML="Please log into Facebook."}function checkLoginState(){FB.getLoginStatus(function(t){statusChangeCallback(t)})}function testAPI(){console.log("Welcome!  Fetching your information.... "),FB.api("/me",function(t){console.log("Successful login for: "+t.name),document.getElementById("status").innerHTML="Thanks for logging in, "+t.name+"!"})}angular.module("rastros",["ngRoute","ngAnimate","duScroll"]),angular.module("rastros").config(["$locationProvider","$routeProvider","momentProvider",function(t,e,a){a.locale("pt-br"),e.when("/",{templateUrl:"app/templates/home-template.html",controller:"HomeController"}).when("/404",{templateUrl:"app/templates/404-template.html",controller:"404Controller"}).when("/my/login",{templateUrl:"app/templates/auth-login-template.html",controller:"LoginController",authPage:!0}).when("/my/register",{templateUrl:"app/templates/auth-register-template.html",controller:"RegisterController",authPage:!0}).when("/my/garage",{templateUrl:"app/templates/garage/garage-template.html",controller:"GarageController",authenticated:!0}).when("/my/garage/add",{templateUrl:"app/templates/garage/add-car-template.html",controller:"GarageAddController",authenticated:!0}).otherwise({redirectTo:"/404"})}]),angular.module("rastros").run(["$rootScope","routeChange",function(t,e){t.$on("$routeChangeError",e.error),t.$on("$routeChangeStart",e.start),t.$on("$routeChangeSuccess",e.success)}]),function(){angular.module("rastros").run(["$templateCache",function(t){t.put("app/templates/404-template.html",'<header class="header bg-light-blue"> <container> <h1 class="title"> 404 </h1> </container> </header> <section class="section"> <container> <h2> Page not found </h2> <br> <button class="button softed" data-ng-click="goBack()"> Back </button> </container> </section>'),t.put("app/templates/home-template.html",'<header class="header"> <container> <h1 class="title"> Próximas Partidas </h1> </container> </header> <section class="section"> <container> <div class="card match" data-ng-repeat="match in nextMatches"> <div class="match__teams"> <figure class="match__team"> <img class="match__team__logo" data-ng-src="{{ match.opponent.logo }}" alt="{{ match.opponent.title }}"> <legend class="match__team__title"> {{ match.opponent.title }} </legend> </figure> <div class="match__versus">×</div> <figure class="match__team"> <img class="match__team__logo" data-ng-src="https://www.futliga.com.br/imagens/distintivos/8985.gif" alt="Os Rastros"> <legend class="match__team__title"> Os Rastros </legend> </figure> </div> <div class="match__details"> <div class="match__details__item"> <img class="match__details__item__icon" data-ng-src="./assets/images/icons/calendar.svg" width="20"> {{ match.date.formatted }} </div> <div class="match__details__item"> <img class="match__details__item__icon" data-ng-src="./assets/images/icons/clock.svg" width="20"> {{ match.date.time }}, bola rolando </div> <div class="match__details__extra" id="location-1"> <div class="match__details__item"> <img class="match__details__item__icon" data-ng-src="./assets/images/icons/placeholder.svg" width="20"> {{ match.location.stadium }} </div> <!-- <div class="match__details__item">\n\t\t\t\t\t\t<img class="match__details__item__icon"\n\t\t\t\t\t\t\t data-ng-src="./assets/images/icons/map.svg"\n\t\t\t\t\t\t\t width="20" />\n\t\t\t\t\t\tRua Talamanca, S/N\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="match__details__item">\n\t\t\t\t\t\t<img class="match__details__item__icon"\n\t\t\t\t\t\t\t data-ng-src="./assets/images/icons/map-location.svg"\n\t\t\t\t\t\t\t width="20" />\n\t\t\t\t\t\tZona Sul, Jardim São Francisco\n\t\t\t\t\t</div> --> </div> <!--\n\t\t\t\t<button class="match__details__button button"\n\t\t\t\t\t\tonclick="showLocation(\'location-1\')">\n\t\t\t\t\tINFORMAÇÕES SOBRE O LOCAL\n\t\t\t\t</button>\n\t\t\t\t--> </div> </div> </container> </section> '),t.put("app/templates/directives/loader-directive-template.html",'<div class="loader" data-ng-hide="activities.length === 0 && errors.length === 0"> <div class="loader__content"> <div class="venus container"> <figure class="loader__content__spinner" data-ng-show="activities.length !== 0 && errors.length === 0"> <img class="loader__content__spinner__image" data-ng-src="./assets/images/loader--spinner.gif" alt="Loading"> </figure> <div class="loader__content__message" data-ng-repeat="activity in activities"> <div data-ng-if="!activity.title && !activity.text" data-ng-bind-html="activity | unsafe"> </div> <div class="loader__content__message__title" data-ng-if="activity.title" data-ng-bind-html="activity.title | unsafe"> </div> <div class="loader__content__message__text" data-ng-if="activity.text" data-ng-bind-html="activity.text | unsafe"> </div> </div> <div class="loader__content__error" data-ng-repeat="error in errors"> <div data-ng-bind-html="error | unsafe"></div> <button class="loader__content__error__icon" data-ng-click="clearError(error)"> <i class="fa fa-times"></i> </button> </div> </div> </div> </div> '),t.put("app/templates/directives/navbar-directive-template.html",'<nav class="navbar navbar--fixed-top navbar--inverted"> <container> <div class="navbar-nav"> <a class="navbar-brand" data-ng-click="goTo(\'/\')" title="Start"> Rastros App </a> <ul class="navbar-menu list"> <li class="list-item"> <a class="list-item-link" data-ng-click="goTo(\'/help\')"> <i class="fa fa-fw fa-question-circle-o"></i> Ajuda </a> </li> <li class="list-item"> <a class="button" data-ng-click="goTo(\'/my/login\')"> <i class="fa fa-fw fa-sign-in"></i> Login </a> </li> <li class="list-border"></li> <li class="list-item"> <a class="button" data-ng-click="goTo(\'/my/register\')"> <i class="fa fa-fw fa-user-plus"></i> Cadastro </a> </li> </ul> <button class="navbar-menu-toggle right"> <i class="fa fa-fw fa-ellipsis-v"></i> </button> </div> </container> </nav> '),t.put("app/templates/directives/loader-directive-template.html",'<div class="loader" data-ng-hide="activities.length === 0 && errors.length === 0"> <div class="loader__content"> <div class="venus container"> <figure class="loader__content__spinner" data-ng-show="activities.length !== 0 && errors.length === 0"> <img class="loader__content__spinner__image" data-ng-src="./assets/images/loader--spinner.gif" alt="Loading"> </figure> <div class="loader__content__message" data-ng-repeat="activity in activities"> <div data-ng-if="!activity.title && !activity.text" data-ng-bind-html="activity | unsafe"> </div> <div class="loader__content__message__title" data-ng-if="activity.title" data-ng-bind-html="activity.title | unsafe"> </div> <div class="loader__content__message__text" data-ng-if="activity.text" data-ng-bind-html="activity.text | unsafe"> </div> </div> <div class="loader__content__error" data-ng-repeat="error in errors"> <div data-ng-bind-html="error | unsafe"></div> <button class="loader__content__error__icon" data-ng-click="clearError(error)"> <i class="fa fa-times"></i> </button> </div> </div> </div> </div> '),t.put("app/templates/directives/navbar-directive-template.html",'<nav class="navbar navbar--fixed-top navbar--inverted"> <container> <div class="navbar-nav"> <a class="navbar-brand" data-ng-click="goTo(\'/\')" title="Start"> Rastros App </a> <ul class="navbar-menu list"> <li class="list-item"> <a class="list-item-link" data-ng-click="goTo(\'/help\')"> <i class="fa fa-fw fa-question-circle-o"></i> Ajuda </a> </li> <li class="list-item"> <a class="button" data-ng-click="goTo(\'/my/login\')"> <i class="fa fa-fw fa-sign-in"></i> Login </a> </li> <li class="list-border"></li> <li class="list-item"> <a class="button" data-ng-click="goTo(\'/my/register\')"> <i class="fa fa-fw fa-user-plus"></i> Cadastro </a> </li> </ul> <button class="navbar-menu-toggle right"> <i class="fa fa-fw fa-ellipsis-v"></i> </button> </div> </container> </nav> ')}])}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?e(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],e):e(t.moment)}(this,function(t){var e=t.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Dom_2ª_3ª_4ª_5ª_6ª_Sáb".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}º/,ordinal:"%dº"});return e}),angular.module("rastros").constant("urls",{BRANDS:"http://usa1.simsdev.info/api/marcas/"}),angular.module("rastros").provider("moment",function(){var t;return{locale:function(e){t=e},$get:["$window",function(e){return e.moment.locale(t),e.moment}]}}),angular.module("rastros").factory("routeChange",["$rootScope","$document","$timeout","flow","scroll","loader",function(t,e,a,i,n,r){var s={},o=e.find("content");return s.start=function(){r.start("Loading..."),o.addClass("loading")},s.success=function(){n.toTop(),a(function(){o.removeClass("loading"),r.stop("Loading...")},800)},s.error=function(){a(function(){r.error("<strong>Ooops</strong>!<br />Something's wrong.<br />Sorry.")},1e3),i.goBack()},s}]),angular.module("rastros").factory("flow",["$filter","$location","$route",function(t,e,a){var i={lastPath:null};return i.goTo=function(t,a){var n=t||"/",r=["/404","/login","/register"];a&&r.indexOf(a)===-1&&(i.lastPath=a),e.path(n)},i.goBack=function(){var t=i.lastPath||"/";e.path(t)},i.reload=function(){a.reload()},i}]),angular.module("rastros").factory("loader",function(){var t={activities:[],errors:[]};return t.start=function(e){if(t.activities.indexOf(e)===-1)return t.activities.push(e),!0},t.stop=function(e){for(var a in t.activities)t.activities[a]===e&&t.activities.splice(a,1)},t.error=function(e,a){t.errors.push(e),a&&console.error(a)},t.clearError=function(e){for(var a in t.errors)t.errors[a]===e&&t.errors.splice(a,1)},t}),angular.module("rastros").factory("scroll",["$document",function(t){var e={};return e.toTop=function(e){var a=e||0,i=t.find("body");i.scrollTop(a,800)},e}]),angular.module("rastros").service("futliga",["$http","$q","$filter",function(t,e,a){t.defaults.useXDomain=!0;var i="https://futliga.com.br/",n={matches:[]};return n.get=function(){var a=e.defer(),n=i+"futliga/associado/equipes/associado-equipes-obter-agenda.asp?codigo=8985";return t.get(n).then(function(t){200===t.status&&a.resolve(t.data)}).catch(function(t){a.reject(t)}),a.promise},n.nextMatches=function(){var t=e.defer();return n.get().then(function(e){t.resolve(a("futligaMatches")(e))}).catch(function(e){t.reject(e)}),t.promise},n}]),window.fbAsyncInit=function(){FB.init({appId:"{your-app-id}",cookie:!0,xfbml:!0,version:"v2.5"}),FB.getLoginStatus(function(t){statusChangeCallback(t)})},angular.module("rastros").controller("404Controller",["$scope","flow",function(t,e){t.goBack=function(){e.goBack()}}]),angular.module("rastros").controller("HomeController",["$scope","flow","futliga",function(t,e,a){a.nextMatches().then(function(e){t.nextMatches=e}),t.otherPage=function(){e.goTo("/404")}}]),angular.module("rastros").directive("loader",["$document","loader",function(t,e){return{restrict:"E",templateUrl:"app/templates/directives/loader-directive-template.html",scope:{},controller:["$scope",function(t){t.activities=e.activities,t.errors=e.errors,t.clearError=function(t){e.clearError(t)}}]}}]),angular.module("rastros").directive("navbar",["$location",function(t){return{restrict:"E",scope:!0,templateUrl:"app/templates/directives/navbar-directive-template.html",controller:["$scope","flow",function(e,a){e.goTo=function(e){var i=e||"/";a.goTo(i,t.path())}}]}}]),angular.module("rastros").filter("unsafe",["$sce",function(t){return function(e){return t.trustAsHtml(e)}}]),angular.module("rastros").filter("removeBreakLines",function(){return function(t){for(var e=t;e.match(/\r?\n|\r/);)e=e.replace(/\r?\n|\r/,"");return e}}),angular.module("rastros").filter("stringRemoveAfter",function(){return function(t,e){if(e)return e=t.indexOf(e),t.substring(0,e!==-1?e:t.length)}}),angular.module("rastros").filter("futligaMatches",["$filter","moment",function(t,e){return function(a){function i(t){if(t){var e=r.querySelectorAll("img"),a="https://futliga.com.br/imagens/distintivos/";for(var i in e){var n=e[i];if(n.src&&n.src.includes("/distintivos/"+t))return a+t+".gif"}return a+"0.jpg"}}function n(){var a=r.querySelectorAll('div[style="float: left; margin: 10px 5px 10px 5px; width: 540px;"]');for(var n in a){var l=a[n];if(l&&!angular.isFunction(l)&&!angular.isNumber(l)){var c=l.nextElementSibling;if(c.querySelector(".liga-link9")){var d,u,m,g,f,_,v,p,h,b={},y=angular.copy(o);g=c.querySelector('span[style="font-size: 30px;"]').innerText,l=l.querySelector('div[style="float: right; width: 50%; text-align: right;"]').innerText,l=l.replace("                            ",""),l=l.replace("                        ",""),l=t("removeBreakLines")(l),l=l.replace("Semana ",""),f=parseInt(l.slice(0,2)),v=parseInt(l.slice(3,7)),_=c.querySelector('span[style="color: #000000; font-size: 10px; text-transform: uppercase;"]').textContent,u=c.querySelectorAll('div[style="float: left; width: 300px; top: inherit; text-align: left;"]')[1],h=u.querySelector(".liga-link8").textContent,h=h.replace("                                                ",""),h=h.replace("                                            ",""),h=t("removeBreakLines")(h),u=u.innerHTML,u=t("stringRemoveAfter")(u,"&nbsp;-&nbsp;"),u=u.replace("                                            ",""),u=t("removeBreakLines")(u),m=u.slice(3,5),u=u.slice(0,2),d=e().year(v).week(f+2),d.day(t("weekDay")(_)),d.hour(u),d.minute(m),d.second(0),y.date.time=u+":"+m,y.date.day=g,y.date.weekDay=_,y.date.moment=d,y.date.formatted=d.format("dddd, DD [de] MMMM"),y.location.stadium=h,p=c.querySelector(".liga-link9"),b.title=p.innerText,b.title=t("removeBreakLines")(b.title),b.title=b.title.replace("                                                ",""),b.title=b.title.replace("                                            ",""),b.id=p.attributes.href.textContent,b.id=b.id.replace(")",""),b.id=parseInt(b.id.replace("javascript:DetalharEquipe(","")),b.logo=i(b.id),y.opponent=b,s.push(y)}}}}var r=document.createElement("futliga"),s=[],o={opponent:null,date:{},location:{stadium:null,street:null,number:null,zone:null,city:"São Paulo",state:"SP"}};return r.innerHTML=a,n(r,s),s}}]),angular.module("rastros").filter("weekDay",function(){return function(t){var e;switch(t){case"Segunda":e="Monday";break;case"Terça":e="Tuesday";break;case"Quarta":e="Wednesday";break;case"Quinta":e="Thursday";break;case"Sexta":e="Friday";break;case"Sábado":e="Saturday";break;default:e="Monday"}return e}});